---
layout: post
title: "高效使用 Vim 编辑器"
---

Vim 是程序员最广泛使用的文本编辑器之一（在 Unix 文化里，它的对手是 [Emacs](https://zh.wikipedia.org/wiki/Emacs)，并由此引发了黑客界的[编辑器之战](https://zh.wikipedia.org/wiki/编辑器之战)）。

本文将会介绍一些实用的配置和命令，以便高效地使用 Vim 进行编辑。这些技巧均不需要安装任何额外的插件。

## 一、使用相对行号

下面的配置会使 Vim 对当前行显示绝对行号，而对其它行显示相对行号：

```vim
set number
set relativenumber
```

使用相对行号的好处是可以使用 `j`、`k` 命令进行精确定位和移动了。

## 二、快速移动

“不要使用方向键，使用 `h/j/k/l` 替代！”，这句话通常是给 Vim 新手的第一条建议。除此之外，你还应该掌握下面这些命令：

| 命令    | 解释   |
|---------|--------------------------------|
| `fx`    | 在当前行向前移动光标到下一个字符 x   |
| `tx`    | 在当前行向前移动光标到下一个字符 x 之前的位置   |
| `w`     | 将光标向前移动一个词   |
| `b`     | 将光标向后移动一个词   |
| `0`     | 将光标移动到当前行首   |
| `^`     | 将光标移动到当前行的第一个可见字符   |
| `$`     | 将光标移动到当前行尾   |

除了上面的移动命令，Vim 还提供了一系列在文件中快速移动的命令：

| 命令    | 解释   |
|---------|--------------------------------|
| `G`     | 移动到文件尾   |
| `gg`    | 将光标移动到文件开头   |
| `H`     | 将光标移动到当前页的第一行   |
| `M`     | 将光标移动到当前页的中间一行   |
| `L`     | 将光标移动到当前页的最后一行   |
| `nG`    | 移至第 n 行行首，比如 `21G` 表示移动到文件的第 21行   |
| `)`     | 将光标移动到下一个句子的句首   |
| `(`     | 将光标移动到上一个句子的句首   |
| `}`     | 将光标移动到下一个段落的段首   |
| `{`     | 将光标移动到上一个段落的段首   |
| `%`     | 将光标移动到对称的   |


## 三、编辑文件

要编辑文件，需要将 Vim 从一般模式（Normal）切换到插入模式（Insert）。下面是一些常见的方式：

| 命令    | 解释   |
|---------|--------------------------------|
| `i`     | 在当前字符的左侧开始插入   |
| `a`     | 在当前字符的右侧开始插入   |
| `I`     | 在当前行行首开始插入   |
| `A`     | 在当前行行尾开始插入   |
| `o`     | 在当前行的下一行开始新的一行并进入插入模式   |
| `O`     | 在当前行的上一行开始新的一行并进入插入模式   |



## 四、自动补全

要想高效地编程，必定少不了 Vim 的自动补全功能。原生的补全方式可以通过 `<C-n>` 命令调出，它会依据文件中出现的单词进行提示。

要想取消补全提示，可以使用命令 `<C-e>`。


## 五、Vim 黑魔法

下面的 Vim 命令是我从互联网上收集而来的，使用它们会有意想不到的效果。